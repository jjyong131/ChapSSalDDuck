<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì‹ ì›ì¸ì¦ ë¡œí…Œì´ì…˜ ì†Œê°œíŒ… - ì‚¬ì „ ì‹ ì²­</title>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-4018LH294V"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'G-4018LH294V');
    </script>
    <style>
        /* CSS ìŠ¤íƒ€ì¼ì€ ì´ì „ê³¼ ë™ì¼í•©ë‹ˆë‹¤ */
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;700;900&display=swap');
        body{font-family:'Noto Sans KR',sans-serif;background-color:#fce4ec;display:flex;justify-content:center;align-items:center;padding:40px 0;min-height:100vh;color:#333;word-break:keep-all}.container{background-color:white;padding:40px 50px;border-radius:20px;box-shadow:0 10px 25px rgba(0,0,0,0.1);text-align:center;max-width:600px;width:90%}h1{color:#d81b60;font-size:2.2em;font-weight:900;margin-bottom:20px;line-height:1.4}.catchphrase{font-size:1.1em;color:#555;margin-bottom:25px;font-style:italic;line-height:1.6}.hook-text{font-size:1.2em;line-height:1.7;margin-bottom:25px;font-weight:bold}.event-announcement{font-size:1.5em;font-weight:700;color:#fff;background:linear-gradient(45deg,#ec407a,#d81b60);padding:15px 20px;border-radius:15px;display:inline-block;margin-bottom:30px;box-shadow:0 4px 10px rgba(0,0,0,0.1)}.description{font-size:1.1em;line-height:1.7;margin-bottom:30px;text-align:left;background-color:#f9f9f9;padding:20px;border-radius:10px}.event-details{text-align:left;border:2px dashed #f8bbd0;padding:20px;border-radius:10px;margin-bottom:30px}.event-details h2{text-align:center;color:#d81b60;margin-top:0;font-size:1.5em}.event-details p{font-size:1.1em;margin:10px 0;line-height:1.6}.event-details p strong{display:inline-block;width:60px}.final-info{font-size:0.8em;color:#777;margin-top:20px;line-height:1.7}.cta-button{background:linear-gradient(45deg,#ec407a,#d81b60);color:white;border:none;padding:15px 30px;font-size:1.3em;font-weight:bold;border-radius:30px;cursor:pointer;transition:all .3s ease;box-shadow:0 5px 15px rgba(216,27,96,0.4);margin-top:20px}.cta-button:hover{transform:translateY(-3px);box-shadow:0 8px 20px rgba(216,27,96,0.5)}.modal{display:none;position:fixed;z-index:1;left:0;top:0;width:100%;height:100%;overflow:auto;background-color:rgba(0,0,0,0.5)}.modal-content{background-color:#fefefe;margin:10% auto;padding:30px;border:1px solid #888;width:80%;max-width:400px;border-radius:15px;text-align:center;position:relative}.close-btn{color:#aaa;position:absolute;top:10px;right:20px;font-size:28px;font-weight:bold;cursor:pointer}input,select{width:calc(100% - 24px);padding:12px;margin:8px 0;border:1px solid #ddd;border-radius:8px;font-size:1em;font-family:'Noto Sans KR',sans-serif}@media (max-width:768px){body{padding:20px 0;align-items:flex-start}.container{width:90%;padding:30px 20px;box-shadow:none}h1{font-size:1.8em}.event-announcement{font-size:1.2em}.hook-text,.catchphrase,.description,.event-details p{font-size:1em}.final-info{font-size:.75em}.cta-button{font-size:1.1em}}
    </style>
</head>
<body>

    <div class="container">
        <h1>ğŸ’–ì‹ ì›ì´ ë³´ì¥ëœ ë§Œë‚¨ğŸ’–<br>í”„ë¼ì´ë¹— ë¡œí…Œì´ì…˜ ì†Œê°œíŒ…</h1>
        <p class="catchphrase">"í•œ ì‚¬ëŒê³¼ 20~30ë¶„ê°„ì˜ ê¹Šì´ ìˆëŠ” ëŒ€í™”"<br>"í•™ìƒì¦/ëª…í•¨ìœ¼ë¡œ ì¸ì¦ëœ ì‚¬ëŒë“¤ê³¼ ì•ˆì „í•˜ê²Œ ë§Œë‚˜ì„¸ìš”"</p>
        <p class="hook-text">ë‹¤ê°€ì˜¤ëŠ” ë¹¼ë¹¼ë¡œ ë°ì´ ë•Œ ë¹¼ë¹¼ë¡œ ğŸë¥¼ ì£¼ê³ ë°›ì„ ìˆ˜ ìˆëŠ” ì‚¬ëŒ, í•„ìš”í•˜ì§€ ì•Šìœ¼ì‹ ê°€ìš”? ì™¸ëª¨, ì„±ê²©, ê°€ì¹˜ê´€ ë¹ ì§ì—†ì´ ë‚˜ë‘ ì˜ ë§ëŠ” ë°˜ìª½ì„ ì°¾ê³  ì‹¶ìœ¼ì‹  ë¶„ë“¤ì„ ìœ„í•´ ì°°ë–¡ê¶í•©ğŸ¡ ì„¤ë ˜ ê°€ë“í•œ ìë¦¬ë¥¼ ë§ˆë ¨í–ˆì–´ìš” ğŸ¥°</p>
        <h2 class="event-announcement">â‚ŠËšà·† 10ì›” 31ì¼ ëŒ€ë§ì˜ ë¡œí…Œì´ì…˜ ì†Œê°œíŒ… â‚ŠËšà·†</h2>
        <div class="description">ì €í¬ì˜ ê°€ì¥ í° ì°¨ë³„ì ì€ í™•ì‹¤í•œ ì‹ ì› ì¸ì¦ê³¼ 'ì„ íƒ ê¸°ë°˜' ë§¤ì¹­ì…ë‹ˆë‹¤.<br><br><b>1. í”„ë¡œí•„ ì‘ì„±:</b> ì‹ ì²­ í›„, ìƒì„¸í•œ ê°€ì¹˜ê´€/ì„±ê²© í”„ë¡œí•„ì„ êµ¬ê¸€ í¼ìœ¼ë¡œ ì‘ì„±í•´ìš”.<br><b>2. í”„ë¡œí•„ ì—´ëŒ ë° ì„ íƒ:</b> í–‰ì‚¬ ì „, ë‹¤ë¥¸ ë¶„ë“¤ì˜ í”„ë¡œí•„(ìµëª…)ì„ ë¯¸ë¦¬ ì½ê³  ëŒ€í™”í•´ë³´ê³  ì‹¶ì€ ë¶„ë“¤ì„ ì§ì ‘ ì„ íƒí•©ë‹ˆë‹¤.<br><b>3. ë§ì¶¤ ë¡œí…Œì´ì…˜:</b> ì €í¬ëŠ” ì—¬ëŸ¬ë¶„ì˜ ì„ íƒì„ ì¢…í•©í•˜ì—¬, ì„œë¡œê°€ ê¶ê¸ˆí•´í•˜ëŠ” ë¶„ë“¤ê³¼ **ì•½ 20~30ë¶„**ê°„ ê¹Šì´ ìˆëŠ” ëŒ€í™”ë¥¼ ë‚˜ëˆŒ ìˆ˜ ìˆë„ë¡ ë¡œí…Œì´ì…˜ ê·¸ë£¹ì„ êµ¬ì„±í•´ ë“œë¦½ë‹ˆë‹¤.</div>
        <div class="event-details">
            <h2>âœ¨ í–‰ì‚¬ ì •ë³´ âœ¨</h2>
            <p><strong>ì¼ì‹œ</strong>: 10ì›” 31ì¼ (ê¸ˆ) 19ì‹œ ~ 22ì‹œ</p>
            <p><strong>ì¥ì†Œ</strong>: í•´ë°©ì´Œ ê·¼ì²˜ ë¶„ìœ„ê¸° ì¢‹ì€ ì¹´í˜</p>
            <p><strong>ë‚´ìš©</strong>: ë§›ìˆëŠ” ì»¤í”¼â˜•ë‘ ì¿ í‚¤ğŸª ë¨¹ìœ¼ë©° í”„ë¼ì´ë¹— ë¡œí…Œì´ì…˜ í† í¬</p>
            <p><strong>ì°¸ê°€ë¹„</strong>: ë‚¨ì„± 31,800ì› / ì—¬ì„± 15,900ì›</p>
            <p><strong>ì£¼ìµœ</strong>: ì§„ì§œ ìœ ì˜ë¯¸í•œ ì†Œê°œíŒ…ì„ í•˜ê³  ì‹¶ì€ ì„œìš¸ëŒ€í•™êµ í•™ë¶€ìƒ íŒ€ ğŸ‰</p>
        </div>
        <button id="preRegBtn" class="cta-button">ì‚¬ì „ ì‹ ì²­í•˜ê³  ì¸ì—° ì°¾ê¸°</button>
        <p class="final-info">í–‰ì‚¬  ì „ì— ì¥ì†Œ ë° ì•ˆë‚´ì‚¬í•­ ê´€ë ¨ ì •ë³´ë¥¼ ë‹´ì€ í™•ì • ì¹´í†¡ì„ ë³´ë‚´ë“œë¦´ ì˜ˆì •ì´ì—ìš”! âœ¨ (ì‹ ì²­ ì‹œ ì‘ì„±í•˜ì‹  ì •ë³´ëŠ” í–‰ì‚¬ ìš´ì˜ ëª©ì  ì™¸ì—ëŠ” ì ˆëŒ€ ì‚¬ìš©ë˜ì§€ ì•Šìœ¼ë©° í–‰ì‚¬ ì¢…ë£Œ í›„ íŒŒê¸° ì˜ˆì •ì…ë‹ˆë‹¤) ë§ê´€ë¶€ ğŸ˜</p>
    </div>

    <div id="formModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" id="closeForm">&times;</span>
            <h2>ì‚¬ì „ ì‹ ì²­</h2>
            <p>í–‰ì‚¬ ì •ë³´ë¥¼ ê°€ì¥ ë¨¼ì € ë°›ì•„ë³´ì„¸ìš”!</p>
            
            <form id="preRegForm">
                <input type="text" id="name" name="Name" placeholder="ì´ë¦„" required>
                <select id="gender" name="Gender" required>
                    <option value="" disabled selected>ì„±ë³„</option>
                    <option value="male">ë‚¨ì„±</option>
                    <option value="female">ì—¬ì„±</option>
                </select>
                <select id="status" name="Status" required>
                    <option value="" disabled selected>ëŒ€í•™ìƒ / ì§ì¥ì¸</option>
                    <option value="student">ëŒ€í•™ìƒ</option>
                    <option value="worker">ì§ì¥ì¸</option>
                </select>
                <input type="number" id="age" name="Age" placeholder="ë‚˜ì´ (ìˆ«ìë§Œ ì…ë ¥)" required>
                <input type="text" id="school" name="School" placeholder="í•™êµ ë˜ëŠ” ì§ì¥ëª…" required>
                <input type="email" id="email" name="Email" placeholder="ì´ë©”ì¼ (ì¸ì¦ìš©)" required>
                <input type="tel" id="phone" name="Phone" placeholder="ì „í™”ë²ˆí˜¸ (010-1234-5678)" required>
                
                <div id="photo-upload-area" style="display: none;">
                    <label for="photo" style="display: block; margin-top: 10px; font-size: 0.9em;">ì‚¬ì§„ ì—…ë¡œë“œ</label>
                    <input type="file" id="photo" name="Photo" accept="image/*">
                </div>

                <button type="submit" class="cta-button">ì‹ ì²­ ì™„ë£Œ</button>
            </form>
        </div>
    </div>

    <div id="successModal" class="modal">
        </div>

    <script>
        const formModal = document.getElementById('formModal');
        const successModal = document.getElementById('successModal');
        const preRegBtn = document.getElementById('preRegBtn');
        const closeFormBtn = document.getElementById('closeForm');
        const preRegForm = document.getElementById('preRegForm');
        const genderSelect = document.getElementById('gender');
        const statusSelect = document.getElementById('status');
        const photoUploadArea = document.getElementById('photo-upload-area');
        const photoLabel = document.querySelector('#photo-upload-area label');
        const photoInput = document.getElementById('photo');

        function updatePhotoUploadVisibility() {
            const gender = genderSelect.value;
            const status = statusSelect.value;
            const isMaleStudent = gender === 'male' && status === 'student';
            const isWorker = status === 'worker';

            if (isMaleStudent) {
                photoLabel.textContent = 'ì‚¬ì§„ ì—…ë¡œë“œ (ì„ íƒ)';
                photoInput.required = false;
                photoUploadArea.style.display = 'block';
            } else if (isWorker) {
                photoLabel.textContent = 'ëª…í•¨ ì‚¬ì§„ ì—…ë¡œë“œ (í•„ìˆ˜)';
                photoInput.required = true;
                photoUploadArea.style.display = 'block';
            } else {
                photoUploadArea.style.display = 'none';
                photoInput.required = false;
            }
        }

        genderSelect.addEventListener('change', updatePhotoUploadVisibility);
        statusSelect.addEventListener('change', updatePhotoUploadVisibility);

        preRegBtn.onclick = function() {
            formModal.style.display = "block";
            gtag('event', 'pre_register_click', {'event_category': 'registration','event_label': 'ì‚¬ì „ ì‹ ì²­ ë²„íŠ¼'});
        }
        closeFormBtn.onclick = function() { formModal.style.display = "none"; }
        window.onclick = function(event) {
            if (event.target == formModal) formModal.style.display = "none";
            if (event.target == successModal) successModal.style.display = "none";
        }

        preRegForm.addEventListener('submit', function(event) {
            event.preventDefault();
            const submitButton = preRegForm.querySelector('button[type="submit"]');
            submitButton.disabled = true;
            submitButton.textContent = 'ì²˜ë¦¬ ì¤‘...';
            
            const file = photoInput.files[0];

            if (photoInput.required && !file) {
                alert('í•„ìˆ˜ íŒŒì¼ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.');
                submitButton.disabled = false;
                submitButton.textContent = 'ì‹ ì²­ ì™„ë£Œ';
                return;
            }

            if (file) {
                const reader = new FileReader();
                reader.readAsDataURL(file);
                reader.onload = () => sendData({
                    photoData: reader.result,
                    photoName: file.name,
                    photoType: file.type
                });
                reader.onerror = () => {
                    alert('íŒŒì¼ì„ ì½ëŠ” ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
                    submitButton.disabled = false;
                    submitButton.textContent = 'ì‹ ì²­ ì™„ë£Œ';
                };
            } else {
                sendData({});
            }
        });

        function sendData(photoInfo) {
            const scriptURL = 'https://script.google.com/macros/s/AKfycbx6Q1Aqo4Y9qZYQcncz4TFDAb-ASvpVCEYhE4zKXEsce5BesdxftX-yYXwwxA27HLsF/exec';
            const submitButton = preRegForm.querySelector('button[type="submit"]');
            
            const formData = new FormData(preRegForm);
            let data = {};
            formData.forEach((value, key) => data[key] = value);
            data = { ...data, ...photoInfo };

            fetch(scriptURL, {
                method: 'POST',
                body: JSON.stringify(data),
                // CORS ë¬¸ì œë¥¼ í”¼í•˜ê¸° ìœ„í•´ mode:'no-cors'ëŠ” ì ˆëŒ€ ì‚¬ìš©í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.
            })
            .then(res => {
                if (!res.ok) {
                    throw new Error(`ì„œë²„ ì‘ë‹µ ì˜¤ë¥˜: ${res.status}`);
                }
                return res.json();
            })
            .then(result => {
                if(result.result === 'success') {
                    console.log('Success!', result);
                    gtag('event', 'registration_complete', {'event_category': 'registration','event_label': 'ìµœì¢… ì‹ ì²­ ì™„ë£Œ'});
                    formModal.style.display = "none";
                    successModal.style.display = "block";
                    preRegForm.reset();
                    photoUploadArea.style.display = 'none';
                } else {
                    throw new Error(result.error || 'ì•Œ ìˆ˜ ì—†ëŠ” ìŠ¤í¬ë¦½íŠ¸ ì˜¤ë¥˜.');
                }
            })
            .catch(error => {
                console.error('Error!', error);
                alert('ì‹ ì²­ì„œ ì œì¶œì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ì˜¤ë¥˜: ' + error.message);
            })
            .finally(() => {
                submitButton.disabled = false;
                submitButton.textContent = 'ì‹ ì²­ ì™„ë£Œ';
            });
        }
    </script>
</body>
</html>































